import{_ as C,u as v}from"./index.c247c6ee.js";const R=()=>{},S=Array.isArray,T=e=>typeof e=="function",$=e=>typeof e=="symbol",D=""+new URL("logo.03d6d6da.png",import.meta.url).href;let M;function I(e,t=M){t&&t.active&&t.effects.push(e)}const L=e=>{const t=new Set(e);return t.w=0,t.n=0,t},y=e=>(e.w&_)>0,N=e=>(e.n&_)>0,A=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_},F=e=>{const{deps:t}=e;if(t.length){let o=0;for(let n=0;n<t.length;n++){const c=t[n];y(c)&&!N(c)?c.delete(e):t[o++]=c,c.w&=~_,c.n&=~_}t.length=o}};let p=0,_=1;const g=30;let i;class O{constructor(t,o=null,n){this.fn=t,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,I(this,n)}run(){if(!this.active)return this.fn();let t=i,o=f;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=i,i=this,f=!0,_=1<<++p,p<=g?A(this):w(this),this.fn()}finally{p<=g&&F(this),_=1<<--p,i=this.parent,f=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){i===this?this.deferStop=!0:this.active&&(w(this),this.onStop&&this.onStop(),this.active=!1)}}function w(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let f=!0;function z(e,t){let o=!1;p<=g?N(e)||(e.n|=_,o=!y(e)):o=!e.has(i),o&&(e.add(i),i.deps.push(e))}function j(e,t){const o=S(e)?e:[...e];for(const n of o)n.computed&&b(n);for(const n of o)n.computed||b(n)}function b(e,t){(e!==i||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($));function k(e){const t=e&&e.__v_raw;return t?k(t):e}function H(e){f&&i&&(e=k(e),z(e.dep||(e.dep=L())))}function P(e,t){e=k(e),e.dep&&j(e.dep)}var B;class U{constructor(t,o,n,c){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this[B]=!1,this._dirty=!0,this.effect=new O(t,()=>{this._dirty||(this._dirty=!0,P(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!c,this.__v_isReadonly=n}get value(){const t=k(this);return H(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}B="__v_isReadonly";function E(e,t,o=!1){let n,c;const u=T(e);return u?(n=e,c=R):(n=e.get,c=e.set),new U(n,c,u||!c,o)}const G={setup(){const e=s=>new URL(Object.assign({"../assets/logo.png":D})[`../assets/${s}.png`],self.location).href,t=v(),o=()=>{t.updataIsCollapse()},n=E(()=>t.$state.currentMenu),c=VueRouter.useRouter();return{getImgSrc:e,handleCollapse:o,current:n,handleLoginOut:()=>{t.cleanMenu(),t.cleanToken(),c.push({name:"login"})}}}},q={class:"container"},J={class:"l-content"},K=Vue.createTextVNode("\u9996\u9875"),Q={class:"r-content"},W={class:"el-dropdown-link"},X=["src"],Y=Vue.createTextVNode("\u4FEE\u6539\u5BC6\u7801"),Z=Vue.createTextVNode("\u9000\u51FA");function ee(e,t,o,n,c,u){const s=Vue.resolveComponent("Menu"),r=Vue.resolveComponent("el-icon"),a=Vue.resolveComponent("el-button"),l=Vue.resolveComponent("el-breadcrumb-item"),d=Vue.resolveComponent("el-breadcrumb"),V=Vue.resolveComponent("el-dropdown-item"),h=Vue.resolveComponent("el-dropdown-menu"),m=Vue.resolveComponent("el-dropdown");return Vue.openBlock(),Vue.createElementBlock("div",q,[Vue.createElementVNode("div",J,[Vue.createVNode(a,{size:"small",plain:"",onClick:n.handleCollapse},{default:Vue.withCtx(()=>[Vue.createVNode(r,{size:"20"},{default:Vue.withCtx(()=>[Vue.createVNode(s)]),_:1})]),_:1},8,["onClick"]),Vue.createVNode(d,{separator:"/",class:"bread"},{default:Vue.withCtx(()=>[Vue.createVNode(l,{to:{path:"/home"}},{default:Vue.withCtx(()=>[K]),_:1}),n.current?(Vue.openBlock(),Vue.createBlock(l,{key:0,to:n.current.path},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(n.current.label),1)]),_:1},8,["to"])):Vue.createCommentVNode("",!0)]),_:1})]),Vue.createElementVNode("div",Q,[Vue.createVNode(m,null,{dropdown:Vue.withCtx(()=>[Vue.createVNode(h,null,{default:Vue.withCtx(()=>[Vue.createVNode(V,null,{default:Vue.withCtx(()=>[Y]),_:1}),Vue.createVNode(V,{onClick:n.handleLoginOut},{default:Vue.withCtx(()=>[Z]),_:1},8,["onClick"])]),_:1})]),default:Vue.withCtx(()=>[Vue.createElementVNode("span",W,[Vue.createElementVNode("img",{class:"img",src:n.getImgSrc("logo"),alt:""},null,8,X)])]),_:1})])])}const te=C(G,[["render",ee],["__scopeId","data-v-0b9fb040"]]);const ne={setup(){const e=v(),t=e.menu;return VueRouter.useRouter(),{noChildren:()=>t.filter(u=>!u.children),hasChildren:()=>t.filter(u=>u.children),store:e,handlerRoute:u=>{e.selectMenu(u)}}}};function oe(e,t,o,n,c,u){const s=Vue.resolveComponent("el-menu-item"),r=Vue.resolveComponent("el-sub-menu"),a=Vue.resolveComponent("el-menu");return Vue.openBlock(),Vue.createBlock(a,{class:"el-menu","background-color":"#545c64","text-color":"#fff",collapse:!n.store.isCollapse,"collapse-transition":!1,router:!0},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createElementVNode("h3",null,"\u540E\u53F0\u7BA1\u7406",512),[[Vue.vShow,n.store.isCollapse]]),Vue.withDirectives(Vue.createElementVNode("h3",null,"\u540E\u53F0",512),[[Vue.vShow,!n.store.isCollapse]]),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(n.noChildren(),l=>(Vue.openBlock(),Vue.createBlock(s,{key:l.path,index:l.path,onClick:d=>n.handlerRoute(l)},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(l.icon),{class:"icons"})),Vue.createElementVNode("span",null,Vue.toDisplayString(l.label),1)]),_:2},1032,["index","onClick"]))),128)),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(n.hasChildren(),l=>(Vue.openBlock(),Vue.createBlock(r,{key:l.path,index:l.label},{title:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(l.icon),{class:"icons"})),Vue.createElementVNode("span",null,Vue.toDisplayString(l.label),1)]),default:Vue.withCtx(()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(l.children,(d,V)=>(Vue.openBlock(),Vue.createBlock(s,{key:V,index:d.path,onClick:h=>n.handlerRoute(d)},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(d.icon),{class:"icons"})),Vue.createElementVNode("span",null,Vue.toDisplayString(d.label),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["collapse"])}const ce=C(ne,[["render",oe],["__scopeId","data-v-6d73f6ea"]]);const le={setup(){const e=v(),t=VueRouter.useRouter(),o=VueRouter.useRoute(),n=e.tabsList;return{tags:n,changeMenu:s=>{t.push({name:s.name}),e.selectMenu(s)},handleClose:(s,r)=>{let a=n.length-1;e.closeTab(s),s.name===o.name&&(r===a?t.push({name:n[r-1].name}):t.push({name:n[r].name}))}}}},se={class:"tags"};function re(e,t,o,n,c,u){const s=Vue.resolveComponent("el-tag");return Vue.openBlock(),Vue.createElementBlock("div",se,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(n.tags,(r,a)=>(Vue.openBlock(),Vue.createBlock(s,{key:a,closable:r.name!="home","disable-transitions":!1,effect:e.$route.name===r.name?"dark":"plain",onClick:l=>n.changeMenu(r),onClose:l=>n.handleClose(r,a)},{default:Vue.withCtx(()=>[Vue.createTextVNode(Vue.toDisplayString(r.label),1)]),_:2},1032,["closable","effect","onClick","onClose"]))),128))])}const x=C(le,[["render",re],["__scopeId","data-v-1c551853"]]);const ue=Vue.defineComponent({components:{commonHeader:te,commonAside:ce,commonTab:x,CommonTab:x},setup(){const e=v();return{isCollapse:E(()=>e.isCollapse)}}}),ae={class:"common-layout"};function ie(e,t,o,n,c,u){const s=Vue.resolveComponent("common-aside"),r=Vue.resolveComponent("el-aside"),a=Vue.resolveComponent("common-header"),l=Vue.resolveComponent("el-header"),d=Vue.resolveComponent("common-tab"),V=Vue.resolveComponent("router-view"),h=Vue.resolveComponent("el-main"),m=Vue.resolveComponent("el-container");return Vue.openBlock(),Vue.createElementBlock("div",ae,[Vue.createVNode(m,null,{default:Vue.withCtx(()=>[Vue.createVNode(r,{width:e.isCollapse?"180px":"64px"},{default:Vue.withCtx(()=>[Vue.createVNode(s)]),_:1},8,["width"]),Vue.createVNode(m,null,{default:Vue.withCtx(()=>[Vue.createVNode(l,null,{default:Vue.withCtx(()=>[Vue.createVNode(a)]),_:1}),Vue.createVNode(h,null,{default:Vue.withCtx(()=>[Vue.createVNode(d),Vue.createVNode(V)]),_:1})]),_:1})]),_:1})])}const _e=C(ue,[["render",ie],["__scopeId","data-v-0c9d7ce1"]]);export{_e as default};
